<!DOCTYPE html><html lang="ja"><head>  <meta charset="UTF-8" />  <meta name="viewport" content="width=device-width,initial-scale=1" />  <title>Notes</title><style>::-webkit-scrollbar{display:none}.container{display:flex;flex-direction:column;align-items:center;margin-top:20px}.text-box{height:3500px}textarea{border:none;outline:0;box-sizing:border-box;width:100%;color:inherit;background-color:inherit;line-height:200%}a{color:#7fc5ff}.markdown-viewer,.text-box{font-family:"BIZ UDGothic";width:700px;margin-top:20px;border:none;padding:5px;font-size:large;line-height:200%;word-break:break-all}textarea.text-box{letter-spacing:normal}.markdown-viewer{display:none}body{background-color:#fff5e6;color:#000}</style>  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script></head><body>  <div class="container"><textarea class="text-box" id="textBox" placeholder="Write your notes here..."></textarea><div class="markdown-viewer" id="markdownViewer"></div>  </div>  <div id="modalTemplate" class="modal-template"><div class="modal-content">  <h2 class="modal-title"></h2>  <div class="modal-body"></div>  <div class="modal-footer"></div></div>  </div>  <script>(() => { let e = document.getElementById("textBox"), t = document.getElementById("markdownViewer"), l = "single-page-memo"; function n() { let n = localStorage.getItem(l) || ""; n || (n = "# ", localStorage.setItem(l, n)), e.value = n, t.style.display = "none", e.style.display = "block", t.innerHTML = marked.parse(n) } function s() { localStorage.setItem(l, e.value) } e.value = e.value.replace(/^\s*$[\n\r]{1,}/gm, ""), e.addEventListener("input", () => { e.value = e.value.replace(/^\s*$[\n\r]{1,}/gm, ""), s() }), e.addEventListener("keydown", t => { let l = e.selectionStart, n = e.value.substring(0, l), s = n.split("\n"), i = s.length - 1, a = s[i], u = a.match(/^(\s*)- /), c = a.match(/^#\s/); if ("Tab" === t.key) { t.preventDefault(); let r = e.selectionStart, o = e.selectionEnd, v = e.value.slice(0, r); e.value.slice(o); let d = v.lastIndexOf("\n") + 1; e.value.slice(o).indexOf("\n"); let p = e.value.slice(d, o).split("\n"); if (t.shiftKey) { let g = p.map(e => e.startsWith("  ") ? e.slice(2) : e).join("\n"); e.value = e.value.slice(0, d) + g + e.value.slice(o); let y = 2 * p.filter(e => e.startsWith("  ")).length; e.selectionStart = r - y, e.selectionEnd = o - y } else { let f = p.map(e => "  " + e).join("\n"); e.value = e.value.slice(0, d) + f + e.value.slice(o); let m = 2 * p.length; e.selectionStart = r + m, e.selectionEnd = o + m } } if ("Enter" === t.key) { if (u) { t.preventDefault(); let E = u[1], h = e.value.substring(l); if ("-" === a.trim()) { s.pop(); let b = s.join("\n") + "\n" + h; e.value = b, e.selectionStart = e.selectionEnd = l - a.length + 1 } else { let k = n + "\n" + E + "- " + h; e.value = k, e.selectionStart = e.selectionEnd = l + E.length + 3 } } else if (c && a.trim().length > 2) { t.preventDefault(); let L = n + "\n- " + e.value.substring(l); e.value = L, e.selectionStart = e.selectionEnd = l + 4 } else if (s.length > 1) { t.preventDefault(); let S = s[s.length - 1] || "", _ = s[s.length - 2] || ""; if ("" === S.trim() && /^\s*- /.test(_)) { let I = s.slice(0, s.length - 1).join("\n"), D = I + "\n# " + e.value.substring(l); e.value = D, e.selectionStart = e.selectionEnd = I.length + 3 } else { let $ = n + "\n\n# " + e.value.substring(l); e.value = $, e.selectionStart = e.selectionEnd = l + 6 } } } }), e.addEventListener("blur", () => { s(); let l = e.value; e.style.display = "none", t.style.display = "block", t.innerHTML = marked.parse(l) }), e.addEventListener("focus", () => { e.style.display = "block", t.style.display = "none" }), t.addEventListener("click", () => { e.style.display = "block", t.style.display = "none", e.focus() }), document.addEventListener("DOMContentLoaded", () => { n(), e.focus() }) })();</script></body></html>